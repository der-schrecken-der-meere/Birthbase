import { useEffect, useMemo, useRef } from "react";
import anime from "animejs";

interface I_BirthbaseSVG {
    color?: string,
    bgColor?: string,
    scale?: number,
    perspective?: string,
}

interface I_SVGComponents {
    x: string[],
    elements: {
        id: string,
        y: string,
        children: {
            id: string,
            d: string,
        }[]    
    }[],
};

const BirthbaseSVG = ({
    scale = 1,
    bgColor = "#6C26D9",
    color = "white",
    perspective = "500px",
}: I_BirthbaseSVG) => {
    let width = 157 * scale;
    let height = 177 * scale;

    const SVGComponents = useMemo<I_SVGComponents>(() => {
        return {
            x: ["13.0015", "48.0015", "84.0015", "119.001"],
            elements: [
                {
                    id: "Birth",
                    y: "71",
                    children: [
                        {
                            id: "B",
                            d: "M22.5345 88V79.2727H25.7305C26.3498 79.2727 26.8626 79.375 27.2689 79.5795C27.6751 79.7812 27.9791 80.0554 28.1808 80.402C28.3825 80.7457 28.4834 81.1335 28.4834 81.5653C28.4834 81.929 28.4166 82.2358 28.2831 82.4858C28.1495 82.733 27.9706 82.9318 27.7461 83.0824C27.5245 83.2301 27.2802 83.3381 27.0132 83.4062V83.4915C27.303 83.5057 27.5856 83.5994 27.8612 83.7727C28.1396 83.9432 28.3697 84.1861 28.5515 84.5014C28.7334 84.8168 28.8243 85.2003 28.8243 85.652C28.8243 86.098 28.7191 86.4986 28.5089 86.8537C28.3015 87.206 27.9805 87.4858 27.5459 87.6932C27.1112 87.8977 26.5558 88 25.8797 88H22.5345ZM23.8513 86.8707H25.7518C26.3825 86.8707 26.8342 86.7486 27.1069 86.5043C27.3797 86.2599 27.516 85.9545 27.516 85.5881C27.516 85.3125 27.4464 85.0597 27.3072 84.8295C27.168 84.5994 26.9691 84.4162 26.7106 84.2798C26.4549 84.1435 26.151 84.0753 25.7987 84.0753H23.8513V86.8707ZM23.8513 83.0483H25.6155C25.9109 83.0483 26.1765 82.9915 26.4123 82.8778C26.651 82.7642 26.8399 82.6051 26.9791 82.4006C27.1211 82.1932 27.1922 81.9489 27.1922 81.6676C27.1922 81.3068 27.0657 81.0043 26.8129 80.7599C26.5601 80.5156 26.1723 80.3935 25.6495 80.3935H23.8513V83.0483Z",
                        },
                        {
                            id: "i",
                            d: "M59.8639 88V81.4545H61.138V88H59.8639ZM60.5073 80.4446C60.2857 80.4446 60.0954 80.3707 59.9363 80.223C59.7801 80.0724 59.7019 79.8935 59.7019 79.6861C59.7019 79.4759 59.7801 79.2969 59.9363 79.1491C60.0954 78.9986 60.2857 78.9233 60.5073 78.9233C60.7289 78.9233 60.9178 78.9986 61.0741 79.1491C61.2332 79.2969 61.3127 79.4759 61.3127 79.6861C61.3127 79.8935 61.2332 80.0724 61.0741 80.223C60.9178 80.3707 60.7289 80.4446 60.5073 80.4446Z",
                        },
                        {
                            id: "r",
                            d: "M95.0553 88V81.4545H96.2868V82.4943H96.355C96.4743 82.142 96.6845 81.8651 96.9857 81.6634C97.2896 81.4588 97.6334 81.3565 98.0169 81.3565C98.0965 81.3565 98.1902 81.3594 98.2982 81.3651C98.409 81.3707 98.4956 81.3778 98.5581 81.3864V82.6051C98.507 82.5909 98.4161 82.5753 98.2854 82.5582C98.1547 82.5384 98.024 82.5284 97.8933 82.5284C97.5922 82.5284 97.3237 82.5923 97.0879 82.7202C96.855 82.8452 96.6703 83.0199 96.534 83.2443C96.3976 83.4659 96.3294 83.7187 96.3294 84.0028V88H95.0553Z",
                        },
                        {
                            id: "th",
                            d: "M129.501 81.4545V82.4773H125.926V81.4545H129.501ZM126.885 79.8864H128.159V86.0781C128.159 86.3253 128.196 86.5114 128.27 86.6364C128.344 86.7585 128.439 86.8423 128.555 86.8878C128.675 86.9304 128.804 86.9517 128.943 86.9517C129.045 86.9517 129.135 86.9446 129.212 86.9304C129.288 86.9162 129.348 86.9048 129.39 86.8963L129.621 87.9489C129.547 87.9773 129.442 88.0057 129.305 88.0341C129.169 88.0653 128.998 88.0824 128.794 88.0852C128.459 88.0909 128.146 88.0312 127.856 87.9062C127.567 87.7812 127.332 87.5881 127.153 87.3267C126.974 87.0653 126.885 86.7372 126.885 86.3423V79.8864ZM132.326 84.1136V88H131.051V79.2727H132.308V82.5199H132.389C132.543 82.1676 132.777 81.8878 133.093 81.6804C133.408 81.473 133.82 81.3693 134.328 81.3693C134.777 81.3693 135.169 81.4616 135.504 81.6463C135.843 81.831 136.104 82.1065 136.289 82.473C136.476 82.8366 136.57 83.2912 136.57 83.8366V88H135.296V83.9901C135.296 83.5099 135.172 83.1378 134.925 82.8736C134.678 82.6065 134.334 82.473 133.894 82.473C133.593 82.473 133.323 82.5369 133.084 82.6648C132.848 82.7926 132.662 82.9801 132.526 83.2273C132.392 83.4716 132.326 83.767 132.326 84.1136Z",
                        }
                    ]
                },
                {
                    id: "Base",
                    y: "106",
                    children: [
                        {
                            id: "B",
                            d: "M22.5345 123V114.273H25.7305C26.3498 114.273 26.8626 114.375 27.2689 114.58C27.6751 114.781 27.9791 115.055 28.1808 115.402C28.3825 115.746 28.4834 116.134 28.4834 116.565C28.4834 116.929 28.4166 117.236 28.2831 117.486C28.1495 117.733 27.9706 117.932 27.7461 118.082C27.5245 118.23 27.2802 118.338 27.0132 118.406V118.491C27.303 118.506 27.5856 118.599 27.8612 118.773C28.1396 118.943 28.3697 119.186 28.5515 119.501C28.7334 119.817 28.8243 120.2 28.8243 120.652C28.8243 121.098 28.7191 121.499 28.5089 121.854C28.3015 122.206 27.9805 122.486 27.5459 122.693C27.1112 122.898 26.5558 123 25.8797 123H22.5345ZM23.8513 121.871H25.7518C26.3825 121.871 26.8342 121.749 27.1069 121.504C27.3797 121.26 27.516 120.955 27.516 120.588C27.516 120.312 27.4464 120.06 27.3072 119.83C27.168 119.599 26.9691 119.416 26.7106 119.28C26.4549 119.143 26.151 119.075 25.7987 119.075H23.8513V121.871ZM23.8513 118.048H25.6155C25.9109 118.048 26.1765 117.991 26.4123 117.878C26.651 117.764 26.8399 117.605 26.9791 117.401C27.1211 117.193 27.1922 116.949 27.1922 116.668C27.1922 116.307 27.0657 116.004 26.8129 115.76C26.5601 115.516 26.1723 115.393 25.6495 115.393H23.8513V118.048Z",
                        },
                        {
                            id: "a",
                            d: "M59.8468 123.145C59.432 123.145 59.057 123.068 58.7218 122.915C58.3866 122.759 58.121 122.533 57.9249 122.237C57.7318 121.942 57.6352 121.58 57.6352 121.151C57.6352 120.781 57.7062 120.477 57.8482 120.239C57.9903 120 58.182 119.811 58.4235 119.672C58.665 119.533 58.9349 119.428 59.2332 119.357C59.5315 119.286 59.8354 119.232 60.1451 119.195C60.5372 119.149 60.8553 119.112 61.0997 119.084C61.344 119.053 61.5215 119.003 61.6323 118.935C61.7431 118.866 61.7985 118.756 61.7985 118.602V118.572C61.7985 118.2 61.6934 117.912 61.4832 117.707C61.2758 117.503 60.9661 117.401 60.5542 117.401C60.1252 117.401 59.7872 117.496 59.54 117.686C59.2957 117.874 59.1266 118.082 59.0329 118.312L57.8354 118.04C57.9775 117.642 58.1849 117.321 58.4576 117.077C58.7332 116.83 59.0499 116.651 59.4079 116.54C59.7658 116.426 60.1423 116.369 60.5372 116.369C60.7985 116.369 61.0755 116.401 61.3681 116.463C61.6636 116.523 61.9391 116.634 62.1948 116.795C62.4533 116.957 62.665 117.189 62.8298 117.49C62.9945 117.788 63.0769 118.176 63.0769 118.653V123H61.8326V122.105H61.7815C61.6991 122.27 61.5755 122.432 61.4107 122.591C61.246 122.75 61.0343 122.882 60.7758 122.987C60.5173 123.092 60.2076 123.145 59.8468 123.145ZM60.1238 122.122C60.4761 122.122 60.7772 122.053 61.0272 121.913C61.2801 121.774 61.4718 121.592 61.6025 121.368C61.736 121.141 61.8028 120.898 61.8028 120.639V119.795C61.7573 119.841 61.6693 119.884 61.5386 119.923C61.4107 119.96 61.2644 119.993 61.0997 120.021C60.9349 120.047 60.7744 120.071 60.6181 120.094C60.4619 120.114 60.3312 120.131 60.2261 120.145C59.9789 120.176 59.7531 120.229 59.5485 120.303C59.3468 120.376 59.1849 120.483 59.0627 120.622C58.9434 120.759 58.8837 120.94 58.8837 121.168C58.8837 121.483 59.0002 121.722 59.2332 121.884C59.4661 122.043 59.763 122.122 60.1238 122.122Z"
                        },
                        {
                            id: "s",
                            d: "M99.046 118.053L97.8912 118.257C97.8429 118.109 97.7662 117.969 97.6611 117.835C97.5588 117.702 97.4196 117.592 97.2435 117.507C97.0673 117.422 96.8472 117.379 96.583 117.379C96.2222 117.379 95.921 117.46 95.6796 117.622C95.4381 117.781 95.3173 117.987 95.3173 118.24C95.3173 118.459 95.3983 118.635 95.5602 118.768C95.7222 118.902 95.9835 119.011 96.3443 119.097L97.3841 119.335C97.9864 119.474 98.4352 119.689 98.7307 119.979C99.0261 120.268 99.1739 120.645 99.1739 121.108C99.1739 121.5 99.0602 121.849 98.833 122.156C98.6085 122.46 98.2946 122.699 97.8912 122.872C97.4906 123.045 97.0261 123.132 96.4977 123.132C95.7648 123.132 95.1668 122.976 94.7037 122.663C94.2406 122.348 93.9565 121.901 93.8514 121.321L95.083 121.134C95.1597 121.455 95.3173 121.697 95.556 121.862C95.7946 122.024 96.1057 122.105 96.4892 122.105C96.9068 122.105 97.2406 122.018 97.4906 121.845C97.7406 121.669 97.8656 121.455 97.8656 121.202C97.8656 120.997 97.7889 120.825 97.6355 120.686C97.485 120.547 97.2534 120.442 96.9409 120.371L95.833 120.128C95.2222 119.989 94.7705 119.767 94.4778 119.463C94.1881 119.159 94.0432 118.774 94.0432 118.308C94.0432 117.922 94.1511 117.584 94.3671 117.294C94.583 117.004 94.8813 116.778 95.2619 116.616C95.6426 116.452 96.0787 116.369 96.5702 116.369C97.2776 116.369 97.8344 116.523 98.2406 116.83C98.6469 117.134 98.9154 117.541 99.046 118.053Z",
                        },
                        {
                            id: "e",
                            d: "M131.658 123.132C131.013 123.132 130.457 122.994 129.991 122.719C129.528 122.44 129.17 122.05 128.917 121.547C128.667 121.041 128.542 120.449 128.542 119.77C128.542 119.099 128.667 118.509 128.917 117.997C129.17 117.486 129.523 117.087 129.974 116.8C130.429 116.513 130.96 116.369 131.568 116.369C131.937 116.369 132.295 116.43 132.642 116.553C132.989 116.675 133.3 116.866 133.575 117.128C133.851 117.389 134.068 117.729 134.227 118.146C134.386 118.561 134.466 119.065 134.466 119.659V120.111H129.263V119.156H133.217C133.217 118.821 133.149 118.524 133.013 118.266C132.876 118.004 132.685 117.798 132.437 117.648C132.193 117.497 131.906 117.422 131.577 117.422C131.219 117.422 130.906 117.51 130.639 117.686C130.375 117.859 130.17 118.087 130.025 118.368C129.883 118.646 129.812 118.949 129.812 119.276V120.021C129.812 120.459 129.889 120.831 130.042 121.138C130.199 121.445 130.416 121.679 130.694 121.841C130.973 122 131.298 122.08 131.67 122.08C131.912 122.08 132.132 122.045 132.331 121.977C132.53 121.906 132.702 121.801 132.846 121.662C132.991 121.523 133.102 121.351 133.179 121.146L134.385 121.364C134.288 121.719 134.115 122.03 133.865 122.297C133.618 122.561 133.307 122.767 132.932 122.915C132.56 123.06 132.135 123.132 131.658 123.132Z",
                        }
                    ]
                },
                {
                    id: "Info",
                    y: "141",
                    children: [
                        {
                            id: "weekday",
                            d: "M23.7437 151.565C23.6982 151.162 23.5107 150.849 23.1812 150.628C22.8516 150.403 22.4368 150.291 21.9368 150.291C21.5789 150.291 21.2692 150.348 21.0079 150.462C20.7465 150.572 20.5434 150.726 20.3985 150.922C20.2564 151.115 20.1854 151.335 20.1854 151.582C20.1854 151.79 20.2337 151.969 20.3303 152.119C20.4297 152.27 20.559 152.396 20.7181 152.499C20.88 152.598 21.0533 152.682 21.238 152.75C21.4226 152.815 21.6002 152.869 21.7706 152.912L22.6229 153.134C22.9013 153.202 23.1868 153.294 23.4794 153.411C23.7721 153.527 24.0434 153.68 24.2934 153.871C24.5434 154.061 24.7451 154.297 24.8985 154.578C25.0547 154.859 25.1329 155.196 25.1329 155.588C25.1329 156.082 25.005 156.521 24.7493 156.905C24.4965 157.288 24.1286 157.591 23.6456 157.812C23.1655 158.034 22.5846 158.145 21.9027 158.145C21.2493 158.145 20.684 158.041 20.2067 157.834C19.7294 157.626 19.3559 157.332 19.086 156.952C18.8161 156.568 18.6669 156.114 18.6385 155.588H19.9596C19.9851 155.903 20.0874 156.166 20.2664 156.376C20.4482 156.584 20.6797 156.739 20.961 156.841C21.2451 156.94 21.5562 156.99 21.8942 156.99C22.2664 156.99 22.5973 156.932 22.8871 156.815C23.1797 156.696 23.4098 156.531 23.5775 156.321C23.7451 156.108 23.8289 155.859 23.8289 155.575C23.8289 155.317 23.755 155.105 23.6073 154.94C23.4624 154.776 23.265 154.639 23.015 154.531C22.7678 154.423 22.488 154.328 22.1755 154.246L21.1442 153.964C20.4454 153.774 19.8914 153.494 19.4823 153.125C19.076 152.756 18.8729 152.267 18.8729 151.659C18.8729 151.156 19.0093 150.717 19.282 150.342C19.5547 149.967 19.9241 149.676 20.39 149.469C20.8559 149.259 21.3814 149.153 21.9667 149.153C22.5576 149.153 23.0789 149.257 23.5306 149.464C23.9851 149.672 24.3431 149.957 24.6044 150.321C24.8658 150.682 25.0022 151.097 25.0135 151.565H23.7437ZM29.3612 158.132C28.7476 158.132 28.212 157.991 27.7547 157.71C27.2973 157.429 26.9422 157.036 26.6893 156.53C26.4365 156.024 26.3101 155.433 26.3101 154.757C26.3101 154.078 26.4365 153.484 26.6893 152.976C26.9422 152.467 27.2973 152.072 27.7547 151.791C28.212 151.51 28.7476 151.369 29.3612 151.369C29.9748 151.369 30.5103 151.51 30.9677 151.791C31.4251 152.072 31.7802 152.467 32.0331 152.976C32.2859 153.484 32.4123 154.078 32.4123 154.757C32.4123 155.433 32.2859 156.024 32.0331 156.53C31.7802 157.036 31.4251 157.429 30.9677 157.71C30.5103 157.991 29.9748 158.132 29.3612 158.132ZM29.3655 157.062C29.7632 157.062 30.0927 156.957 30.3541 156.747C30.6155 156.537 30.8086 156.257 30.9336 155.908C31.0615 155.558 31.1254 155.173 31.1254 154.753C31.1254 154.335 31.0615 153.952 30.9336 153.602C30.8086 153.25 30.6155 152.967 30.3541 152.754C30.0927 152.541 29.7632 152.435 29.3655 152.435C28.9649 152.435 28.6325 152.541 28.3683 152.754C28.1069 152.967 27.9123 153.25 27.7845 153.602C27.6595 153.952 27.597 154.335 27.597 154.753C27.597 155.173 27.6595 155.558 27.7845 155.908C27.9123 156.257 28.1069 156.537 28.3683 156.747C28.6325 156.957 28.9649 157.062 29.3655 157.062Z",
                        },
                        {
                            id: "day",
                            d: "M53.9406 158V157.045L56.8937 153.986C57.209 153.653 57.469 153.362 57.6735 153.112C57.8809 152.859 58.0357 152.619 58.138 152.392C58.2403 152.165 58.2914 151.923 58.2914 151.668C58.2914 151.378 58.2232 151.128 58.0869 150.918C57.9505 150.705 57.7644 150.541 57.5286 150.428C57.2928 150.311 57.0272 150.253 56.7318 150.253C56.4193 150.253 56.1465 150.317 55.9136 150.445C55.6806 150.572 55.5016 150.753 55.3766 150.986C55.2516 151.219 55.1891 151.491 55.1891 151.804H53.932C53.932 151.273 54.0542 150.808 54.2985 150.411C54.5428 150.013 54.8781 149.705 55.3042 149.486C55.7303 149.264 56.2147 149.153 56.7573 149.153C57.3056 149.153 57.7886 149.263 58.2062 149.482C58.6266 149.697 58.9548 149.993 59.1906 150.368C59.4264 150.74 59.5443 151.161 59.5443 151.629C59.5443 151.953 59.4832 152.27 59.361 152.58C59.2417 152.889 59.0329 153.234 58.7346 153.615C58.4363 153.993 58.0215 154.452 57.4903 154.991L55.7559 156.807V156.871H59.6849V158H53.9406ZM64.1806 158.119C63.6465 158.119 63.1664 158.017 62.7403 157.812C62.317 157.605 61.9789 157.321 61.7261 156.96C61.4732 156.599 61.3383 156.188 61.3212 155.724H62.5997C62.6309 156.099 62.7971 156.408 63.0982 156.649C63.3994 156.891 63.7602 157.011 64.1806 157.011C64.5158 157.011 64.8127 156.935 65.0712 156.781C65.3326 156.625 65.5372 156.411 65.6849 156.138C65.8354 155.865 65.9107 155.554 65.9107 155.205C65.9107 154.849 65.834 154.533 65.6806 154.254C65.5272 153.976 65.3156 153.757 65.0457 153.598C64.7786 153.439 64.4718 153.358 64.1252 153.355C63.861 153.355 63.5954 153.401 63.3283 153.491C63.0613 153.582 62.8454 153.702 62.6806 153.849L61.4747 153.67L61.9647 149.273H66.763V150.402H63.0599L62.7829 152.844H62.834C63.0045 152.679 63.2303 152.541 63.5116 152.43C63.7957 152.32 64.0997 152.264 64.4235 152.264C64.9548 152.264 65.4278 152.391 65.8426 152.643C66.2602 152.896 66.5883 153.241 66.8269 153.679C67.0684 154.114 67.1877 154.614 67.1849 155.179C67.1877 155.744 67.0599 156.249 66.8014 156.692C66.5457 157.135 66.1906 157.484 65.736 157.74C65.2843 157.993 64.7658 158.119 64.1806 158.119Z",
                        },
                        {
                            id: "month",
                            d: "M92.7152 158.145C92.0419 158.142 91.4667 157.964 90.9894 157.612C90.5121 157.26 90.1471 156.747 89.8942 156.074C89.6414 155.401 89.515 154.589 89.515 153.641C89.515 152.695 89.6414 151.886 89.8942 151.216C90.1499 150.545 90.5164 150.034 90.9937 149.682C91.4738 149.33 92.0476 149.153 92.7152 149.153C93.3829 149.153 93.9553 149.331 94.4326 149.686C94.9098 150.038 95.2749 150.55 95.5277 151.22C95.7834 151.888 95.9113 152.695 95.9113 153.641C95.9113 154.592 95.7848 155.405 95.532 156.078C95.2792 156.749 94.9141 157.261 94.4368 157.616C93.9596 157.969 93.3857 158.145 92.7152 158.145ZM92.7152 157.007C93.3062 157.007 93.7678 156.719 94.1002 156.142C94.4354 155.565 94.603 154.732 94.603 153.641C94.603 152.916 94.5263 152.304 94.3729 151.804C94.2223 151.301 94.005 150.92 93.7209 150.662C93.4397 150.401 93.1044 150.27 92.7152 150.27C92.1272 150.27 91.6655 150.56 91.3303 151.139C90.9951 151.719 90.826 152.553 90.8232 153.641C90.8232 154.368 90.8985 154.983 91.0491 155.486C91.2025 155.986 91.4198 156.365 91.701 156.624C91.9823 156.879 92.3204 157.007 92.7152 157.007ZM100.372 158.119C99.7611 158.119 99.2213 158.014 98.7525 157.804C98.2866 157.594 97.9216 157.304 97.6574 156.935C97.3932 156.565 97.2625 156.145 97.2653 155.673C97.2625 155.304 97.3378 154.964 97.4912 154.655C97.6474 154.342 97.8591 154.082 98.1261 153.875C98.3932 153.665 98.6915 153.531 99.021 153.474V153.423C98.5863 153.318 98.2383 153.085 97.977 152.724C97.7156 152.364 97.5863 151.949 97.5892 151.48C97.5863 151.034 97.7042 150.636 97.9429 150.287C98.1843 149.935 98.5153 149.658 98.9358 149.456C99.3562 149.254 99.8349 149.153 100.372 149.153C100.903 149.153 101.378 149.256 101.795 149.46C102.216 149.662 102.547 149.939 102.788 150.291C103.03 150.641 103.152 151.037 103.155 151.48C103.152 151.949 103.018 152.364 102.754 152.724C102.49 153.085 102.146 153.318 101.723 153.423V153.474C102.049 153.531 102.343 153.665 102.605 153.875C102.869 154.082 103.079 154.342 103.235 154.655C103.395 154.964 103.476 155.304 103.478 155.673C103.476 156.145 103.342 156.565 103.078 156.935C102.814 157.304 102.447 157.594 101.978 157.804C101.512 158.014 100.977 158.119 100.372 158.119ZM100.372 157.041C100.733 157.041 101.045 156.982 101.309 156.862C101.574 156.74 101.778 156.571 101.923 156.355C102.068 156.136 102.142 155.881 102.145 155.588C102.142 155.284 102.062 155.016 101.906 154.783C101.753 154.55 101.544 154.366 101.28 154.233C101.015 154.099 100.713 154.033 100.372 154.033C100.028 154.033 99.7227 154.099 99.4557 154.233C99.1886 154.366 98.9784 154.55 98.825 154.783C98.6716 155.016 98.5963 155.284 98.5991 155.588C98.5963 155.881 98.6659 156.136 98.8079 156.355C98.9528 156.571 99.1588 156.74 99.4258 156.862C99.6929 156.982 100.008 157.041 100.372 157.041ZM100.372 152.98C100.662 152.98 100.919 152.922 101.143 152.805C101.368 152.689 101.544 152.527 101.672 152.32C101.802 152.112 101.869 151.869 101.872 151.591C101.869 151.318 101.804 151.08 101.676 150.875C101.551 150.67 101.376 150.513 101.152 150.402C100.927 150.288 100.667 150.232 100.372 150.232C100.071 150.232 99.8065 150.288 99.5792 150.402C99.3548 150.513 99.1801 150.67 99.0551 150.875C98.9301 151.08 98.869 151.318 98.8718 151.591C98.869 151.869 98.9315 152.112 99.0593 152.32C99.1872 152.527 99.3633 152.689 99.5878 152.805C99.815 152.922 100.076 152.98 100.372 152.98Z",
                        },
                        {
                            id: "year",
                            d: "M124.829 158V157.045L127.782 153.986C128.098 153.653 128.358 153.362 128.562 153.112C128.77 152.859 128.924 152.619 129.027 152.392C129.129 152.165 129.18 151.923 129.18 151.668C129.18 151.378 129.112 151.128 128.976 150.918C128.839 150.705 128.653 150.541 128.417 150.428C128.182 150.311 127.916 150.253 127.62 150.253C127.308 150.253 127.035 150.317 126.802 150.445C126.569 150.572 126.39 150.753 126.265 150.986C126.14 151.219 126.078 151.491 126.078 151.804H124.821C124.821 151.273 124.943 150.808 125.187 150.411C125.432 150.013 125.767 149.705 126.193 149.486C126.619 149.264 127.103 149.153 127.646 149.153C128.194 149.153 128.677 149.263 129.095 149.482C129.515 149.697 129.843 149.993 130.079 150.368C130.315 150.74 130.433 151.161 130.433 151.629C130.433 151.953 130.372 152.27 130.25 152.58C130.13 152.889 129.922 153.234 129.623 153.615C129.325 153.993 128.91 154.452 128.379 154.991L126.645 156.807V156.871H130.574V158H124.829ZM131.818 156.295V155.23L135.589 149.273H136.429V150.841H135.896L133.199 155.111V155.179H138.368V156.295H131.818ZM135.956 158V155.972L135.964 155.486V149.273H137.213V158H135.956Z",
                        }
                    ]
                }
            ],
        }
    }, [])

    const ref = useRef<SVGGElement[]>([]);
    const addRef = (e: SVGGElement) => {
        if (!ref.current.includes(e)) {
            ref.current.push(e);
        }
    }

    useEffect(() => {
        console.log(ref.current);

        const animation = anime.timeline({
            duration: 6000,
            elasticity: 1000,
            loop: true,
            direction: "normal",
        });

        ref.current.forEach((e, i) => {
            animation.add({
                rotateX: 360,
                targets: e,
            }, i * 200)
        })
    }, []);

    return (
        <svg width={width} height={height} viewBox="0 0 157 177" fill="none" xmlns="http://www.w3.org/2000/svg" className="relative">
            <g id="container">
                <g id="base">
                    <g id="head">
                        <path
                            d="M43.002 27.0117L31.002 27L31.0011 37.0053C31.0008 40.3215 33.6912 43.0091 37.0074 43.0059V43.0059C40.3188 43.0026 43.002 40.3173 43.002 37.0059V27.0117Z"
                            fill={bgColor}
                        />
                        <path
                            fillRule="evenodd"
                            clipRule="evenodd"
                            d="M37 0C33.6863 0 31 2.68629 31 6V23H0V51H14L13.4472 49.8944C13.2002 49.4004 13.4004 48.7998 13.8944 48.5528L14.2104 48.3948C14.6615 48.1693 15.2099 48.3149 15.4897 48.7345L17 51H139.465C139.799 51 140.111 50.8329 140.297 50.5547L141.51 48.7345C141.79 48.3149 142.339 48.1693 142.79 48.3948L143.106 48.5528C143.6 48.7998 143.8 49.4004 143.553 49.8944L143 51H157V33C157 27.4772 152.523 23 147 23H126V6C126 2.68629 123.314 0 120 0V0C116.686 0 114 2.68629 114 6V23H43V6C43 2.68629 40.3137 0 37 0V0ZM27.0005 37.0117C27.0005 31.4889 31.4777 27.0117 37.0005 27.0117V27.0117C42.5234 27.0117 47.0005 31.4889 47.0005 37.0117V37.0117C47.0005 42.5346 42.5234 47.0117 37.0005 47.0117V47.0117C31.4777 47.0117 27.0005 42.5346 27.0005 37.0117V37.0117ZM110.002 37.0002C110.002 31.4774 114.479 27 120.002 27V27V27C125.525 27 130.002 31.478 130.001 37.0007V37.0007C130 42.5229 125.524 47 120.001 47V47C114.479 47 110.002 42.5228 110.002 37.0002V37.0002Z"
                            fill={bgColor}
                        />
                        <path
                            d="M125.997 27.0059L113.997 26.9941L113.996 36.9995C113.995 40.3157 116.686 43.0032 120.002 43C123.313 42.9968 125.997 40.3114 125.997 37V27.0059Z"
                            fill={bgColor}
                        />
                    </g>
                    <path
                        id="body"
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M0 58L0.00043764 167C0.000459815 172.523 4.47761 177 10.0004 177H157.001L157 58H0ZM12 107C12 105.895 12.8954 105 14 105H37C38.1045 105 39 105.895 39 107V130C39 131.105 38.1045 132 37 132H14C12.8954 132 12 131.105 12 130V107ZM85 105C83.8954 105 83 105.895 83 107V130C83 131.105 83.8954 132 85 132H108C109.105 132 110 131.105 110 130V107C110 105.895 109.105 105 108 105H85ZM118 107C118 105.895 118.895 105 120 105H143C144.105 105 145 105.895 145 107V130C145 131.105 144.105 132 143 132H120C118.895 132 118 131.105 118 130V107ZM49 105C47.8954 105 47 105.895 47 107V130C47 131.105 47.8954 132 49 132H72C73.1045 132 74 131.105 74 130V107C74 105.895 73.1045 105 72 105H49ZM12 72C12 70.8954 12.8954 70 14 70H37C38.1045 70 39 70.8954 39 72V95C39 96.1046 38.1045 97 37 97H14C12.8954 97 12 96.1046 12 95V72ZM85 70C83.8954 70 83 70.8954 83 72V95C83 96.1046 83.8954 97 85 97H108C109.105 97 110 96.1046 110 95V72C110 70.8954 109.105 70 108 70H85ZM118 72C118 70.8954 118.895 70 120 70H143C144.105 70 145 70.8954 145 72V95C145 96.1046 144.105 97 143 97H120C118.895 97 118 96.1046 118 95V72ZM49 70C47.8954 70 47 70.8954 47 72V95C47 96.1046 47.8954 97 49 97H72C73.1045 97 74 96.1046 74 95V72C74 70.8954 73.1045 70 72 70H49ZM12 142C12 140.895 12.8954 140 14 140H37C38.1045 140 39 140.895 39 142V165C39 166.105 38.1045 167 37 167H14C12.8954 167 12 166.105 12 165V142ZM85 140C83.8954 140 83 140.895 83 142V165C83 166.105 83.8954 167 85 167H108C109.105 167 110 166.105 110 165V142C110 140.895 109.105 140 108 140H85ZM118 142C118 140.895 118.895 140 120 140H143C144.105 140 145 140.895 145 142V165C145 166.105 144.105 167 143 167H120C118.895 167 118 166.105 118 165V142ZM49 140C47.8954 140 47 140.895 47 142V165C47 166.105 47.8954 167 49 167H72C73.1045 167 74 166.105 74 165V142C74 140.895 73.1045 140 72 140H49Z"
                        fill={bgColor}
                    />
                </g>
                <g id="fields">
                    {SVGComponents.elements.map((e) => (
                        <g key={e.id} id={e.id}>
                            {e.children.map((f, i) => (
                                <g
                                    key={`${e.id}-${f.id}`}
                                    id={`${e.id}-${f.id}`}
                                    ref={addRef}
                                    className="origin-center"
                                    style={{ transformBox: "border-box", perspective, transformStyle: "preserve-3d" }}
                                >
                                    <rect
                                        x={SVGComponents.x[i]}
                                        y={e.y}
                                        width="25"
                                        height="25"
                                        rx="1"
                                        fill={bgColor}
                                    />
                                    <path
                                        d={f.d}
                                        fill={color}
                                    />
                                </g>
                            ))}
                        </g>
                    ))}
                </g>
            </g>
        </svg>
    )
}

export default BirthbaseSVG